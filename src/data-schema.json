{
    "$id": "h...",
    "$schema": "https://json-schema.org/draft-07/schema",
    "definitions": {
        "lineMapping": {
            "properties": {
                "name": {
                    "description": "The alias of this line (e.g. OdorA, FinalValve)",
                    "type": "string"
                },
                "line": {
                    "description": "The digital line associated with this mapping",
                    "minimum": 0,
                    "maximum": 9,
                    "type": "integer"
                }
            }
        },
        "lineCommand": {
            "properties": {
                "lineName": {
                    "type": "string"
                },
                "state": {
                    "default": "false",
                    "type": "boolean"
                }
            }
        },
        "cameraCommand": {
            "properties": {
                "state": {
                    "default": false,
                    "type": "boolean"
                }
            }
        },   
        "cameraProperties": {
            "properties": {
                "imagingRate": {
                    "description": "The imaging rate in frames / s",
                    "type": "number"
                },
                "preEventBufferFrames": {
                    "description": "The number of frames pre-event to include in the event buffer",
                    "type": "integer"
                },
                "postEventBufferFrames": {
                    "description": "The number of frames post-event to include in the event buffer",
                    "type": "integer"
                },
                "bufferInterval": {
                    "description": "When saving event-buffered video, at least this interval (in seconds) must elapse before a new video writer is initialized. Necessary to prevent too many video writers initializing for fast inter-event times.",
                    "default": 0.5,
                    "type": "number"
                }
            }
        }
    },
    "properties": {
        "metadata": {
            "properties": {
                "animalId": {
                    "default": "",
                    "type": "string"
                },
                "loggingRootPath": {
                    "description": "The local root foleder to save data for this session",
                    "default": "",
                    "type": "string"
                },
                "remoteTransferRootPath": {
                    "description": "The path of the remote folder to copy local data to, with time interval specified by robocopyTimeInterval",
                    "default": "",
                    "type": "string"
                },
                "chargeTime": {
                    "description": "How long to wait for active odor line to charge in seconds",
                    "default": "0.2",
                    "type": "number"
                },
                "minimumPokeTime": {
                    "description": "Minimum poke time. Minimum time before a poke is considered 'active' in seconds",
                    "default": "0.01",
                    "type": "number"
                },
                "maximumPokeTime": {
                    "description": "Maximum poke time. Poke should be aborted after this time in seconds",
                    "default": "10",
                    "type": "number"
                },
                "robocopyTimeInterval": {
                    "description": "Interval between robocopy initiations in seconds",
                    "default": "3600",
                    "type": "number"
                },
                "showHarpLeds": {
                    "description": "Whether HARP device LEDs should be on",
                    "default": "false",
                    "type": "boolean"
                },
                "maxVideoLength": {
                    "description": "Maximum allowed length of individual video files in seconds",
                    "default": "120",
                    "type": "number"
                },
                "minOdorDelivery": {
                    "description": "Minimum required length of odor deliveries in seconds",
                    "default": "0.1",
                    "type": "number"
                },
                "maxOdorDelivery": {
                    "description": "Maximum allowed length of odor deliveries in seconds",
                    "default": "8",
                    "type": "number"
                },
                "useVacuum": {
                    "description": "Whether to use vacuum line during odor presentations",
                    "default": "true",
                    "type": "boolean"
                }
            }
        },
        "lineMappings": {
            "properties": {
                "odorMap": {
                    "items": {
                        "$ref": "#/definitions/lineMapping"
                    },
                    "type": "array"
                },
                "portLine": {
                    "minimum": 0,
                    "maximum": 9,
                    "type": "integer"
                },
                "vacuumLine": {
                    "minimum": 0,
                    "maximum": 9,
                    "type": "integer"
                },
                "auxLine": {
                    "default": 0,
                    "minimum": 0,
                    "maximum": 1,
                    "type": "integer"
                }
            }
        },
        "cameraProperties": {
            "$ref": "#/definitions/cameraProperties"
        }
    },
    "title": "DelphiSession",
    "type": "object"
}